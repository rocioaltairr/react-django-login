{"ast":null,"code":"import _objectSpread from\"/Users/user/Desktop/react_django_sell/babysell/reactapp/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import ACTIONS from\"./actions\";var evaluate=function evaluate(state){var lastOperand=state.lastOperand,currentOperand=state.currentOperand,operation=state.operation;var last=parseFloat(lastOperand);var current=parseFloat(currentOperand);var res=\"\";switch(operation){case\"+\":res=last+current;break;case\"-\":res=last-current;break;case String.fromCharCode(247):res=last/current;break;case String.fromCharCode(215):res=last*current;}return res.toString();};var reducer=function reducer(){var state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{currentOperand:\"0\",lastOperand:\"\",operation:\"\",overwrite:false};var action=arguments.length>1?arguments[1]:undefined;switch(action.type){case ACTIONS.ADD_DIGIT:if(state.overwrite){return _objectSpread(_objectSpread({},state),{},{currentOperand:action.digit,overwrite:false});}if(state.currentOperand===\"0\"&&action.digit===\"0\")return state;if(state.currentOperand===\"0\"&&action.digit!==\".\")return _objectSpread(_objectSpread({},state),{},{currentOperand:action.digit});if(action.digit===\".\"&&state.currentOperand.includes(\".\"))return state;if(action.digit===\".\"&&state.currentOperand===\"\")return _objectSpread(_objectSpread({},state),{},{currentOperand:\"0.\"});return _objectSpread(_objectSpread({},state),{},{currentOperand:state.currentOperand+action.digit});case ACTIONS.DELETE_DIGIT:if(state.overwrite)return _objectSpread(_objectSpread({},state),{},{currentOperand:\"0\",overwrite:false});if(state.currentOperand.length===1)return _objectSpread(_objectSpread({},state),{},{currentOperand:\"0\"});return _objectSpread(_objectSpread({},state),{},{currentOperand:state.currentOperand.slice(0,-1)});case ACTIONS.CHOOSE_OPERATION:if(state.lastOperand===\"\")return _objectSpread(_objectSpread({},state),{},{lastOperand:state.currentOperand,operation:action.operation,currentOperand:\"\"});if(state.currentOperand===\"\")return _objectSpread(_objectSpread({},state),{},{operation:action.operation});return _objectSpread(_objectSpread({},state),{},{lastOperand:evaluate(state),operation:action.operation,currentOperand:\"\"});case ACTIONS.CLEAR:return _objectSpread(_objectSpread({},state),{},{currentOperand:\"0\",lastOperand:\"\",operation:\"\"});case ACTIONS.EVALUATE:if(state.currentOperand===\"\"||state.lastOperand===\"\"||state.operation===\"\")return state;return _objectSpread(_objectSpread({},state),{},{currentOperand:evaluate(state),lastOperand:\"\",operation:\"\",overwrite:true});default:return state;}};export default reducer;","map":{"version":3,"names":["ACTIONS","evaluate","state","lastOperand","currentOperand","operation","last","parseFloat","current","res","String","fromCharCode","toString","reducer","overwrite","action","type","ADD_DIGIT","digit","includes","DELETE_DIGIT","length","slice","CHOOSE_OPERATION","CLEAR","EVALUATE"],"sources":["/Users/user/Desktop/react_django_sell/babysell/reactapp/src/redux/reducer.js"],"sourcesContent":["import ACTIONS from \"./actions\";\n\nconst evaluate = (state) => {\n  let { lastOperand, currentOperand, operation } = state;\n  let last = parseFloat(lastOperand);\n  let current = parseFloat(currentOperand);\n  let res = \"\";\n  switch (operation) {\n    case \"+\":\n      res = last + current;\n      break;\n    case \"-\":\n      res = last - current;\n      break;\n    case String.fromCharCode(247):\n      res = last / current;\n      break;\n    case String.fromCharCode(215):\n      res = last * current;\n  }\n  return res.toString();\n};\n\nconst reducer = (\n  state = {\n    currentOperand: \"0\",\n    lastOperand: \"\",\n    operation: \"\",\n    overwrite: false,\n  },\n  action\n) => {\n  switch (action.type) {\n    case ACTIONS.ADD_DIGIT:\n      if (state.overwrite) {\n        return {\n          ...state,\n          currentOperand: action.digit,\n          overwrite: false,\n        };\n      }\n      if (state.currentOperand === \"0\" && action.digit === \"0\") return state;\n      if (state.currentOperand === \"0\" && action.digit !== \".\")\n        return {\n          ...state,\n          currentOperand: action.digit,\n        };\n      if (action.digit === \".\" && state.currentOperand.includes(\".\"))\n        return state;\n      if (action.digit === \".\" && state.currentOperand === \"\")\n        return {\n          ...state,\n          currentOperand: \"0.\",\n        };\n      return {\n        ...state,\n        currentOperand: state.currentOperand + action.digit,\n      };\n    case ACTIONS.DELETE_DIGIT:\n      if (state.overwrite)\n        return {\n          ...state,\n          currentOperand: \"0\",\n          overwrite: false,\n        };\n      if (state.currentOperand.length === 1)\n        return {\n          ...state,\n          currentOperand: \"0\",\n        };\n      return {\n        ...state,\n        currentOperand: state.currentOperand.slice(0, -1),\n      };\n    case ACTIONS.CHOOSE_OPERATION:\n      if (state.lastOperand === \"\")\n        return {\n          ...state,\n          lastOperand: state.currentOperand,\n          operation: action.operation,\n          currentOperand: \"\",\n        };\n      if (state.currentOperand === \"\")\n        return {\n          ...state,\n          operation: action.operation,\n        };\n      return {\n        ...state,\n        lastOperand: evaluate(state),\n        operation: action.operation,\n        currentOperand: \"\",\n      };\n    case ACTIONS.CLEAR:\n      return {\n        ...state,\n        currentOperand: \"0\",\n        lastOperand: \"\",\n        operation: \"\",\n      };\n    case ACTIONS.EVALUATE:\n      if (\n        state.currentOperand === \"\" ||\n        state.lastOperand === \"\" ||\n        state.operation === \"\"\n      )\n        return state;\n      return {\n        ...state,\n        currentOperand: evaluate(state),\n        lastOperand: \"\",\n        operation: \"\",\n        overwrite: true,\n      };\n    default:\n      return state;\n  }\n};\n\nexport default reducer;"],"mappings":"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"},"metadata":{},"sourceType":"module"}